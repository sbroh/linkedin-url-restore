# [PRD] LinkedIn Link Restorer (링크 복원기)

## 1. 제품 개요 (Product Overview)
* **배경:** 링크드인(LinkedIn)은 게시물 내의 모든 외부 링크를 `https://lnkd.in/...` 형태의 고유 단축 URL로 자동 변환합니다. 이는 플랫폼 외부로 콘텐츠를 공유하거나 아카이빙할 때 원본 주소를 알기 어렵게 만들고 시각적으로도 불투명합니다.
* **목적:** 본문 내용은 그대로 유지하면서, 링크드인 단축 URL만 원래의 원본 URL로 일괄 복원하여 가독성과 정보성을 높입니다.
* **타겟 사용자:** 링크드인 포스트를 블로그, 노션(Notion), 사내 위키 등에 2차 가공하여 게시하고자 하는 사용자.

---

## 2. 주요 기능 (Key Features)
1.  **텍스트 분석 (Parsing):** 사용자가 입력한 텍스트에서 `lnkd.in` 패턴을 가진 URL을 자동으로 식별합니다.
2.  **URL 복원 (Expansion):** HTTP 리다이렉트를 추적하여 단축 링크 뒤에 숨겨진 최종 목적지 URL을 찾아냅니다.
3.  **일괄 치환 (Bulk Replace):** 본문의 서식과 일반 텍스트는 건드리지 않고, 식별된 링크만 원본 주소로 교체합니다.
4.  **클립보드 지원:** 변환된 결과물을 한 번의 클릭으로 복사할 수 있는 기능을 제공합니다.

---

## 3. 사용자 인터페이스 (UI/UX)
**구조:** 한 화면에서 입력과 출력을 동시에 확인할 수 있는 2단 레이아웃 (Split-screen)

| 영역 | 구성 요소 | 설명 |
| :--- | :--- | :--- |
| **좌측 (Input)** | **입력창 (Textarea)** | 링크드인 본문을 붙여넣는 곳 |
| | **실행 버튼** | '링크 복원하기' 버튼 |
| **우측 (Output)** | **출력창 (Textarea)** | 원본 URL로 치환된 결과가 표시되는 곳 (수정 가능) |
| | **복사 버튼** | '결과물 복사' 버튼 |

---

## 4. 상세 요구사항 (Functional Requirements)

### FR-1: URL 추출 및 매핑
* 입력된 텍스트 내에서 `https://lnkd.in/[a-zA-Z0-9]+` 정규식에 매칭되는 모든 항목을 추출해야 함.
* 추출된 각 단축 링크와 대응되는 원본 링크의 매핑 테이블을 생성해야 함.

### FR-2: 원본 URL 추적 (Redirect Trace)
* `lnkd.in` 링크에 HTTP GET/HEAD 요청을 보내어 `301 Moved Permanently` 또는 `302 Found` 응답의 `Location` 헤더 값을 추출함.
* 최종 목적지까지 도달할 때까지 재귀적으로 추적함.

### FR-3: 텍스트 무결성 유지
* 링크 이외의 줄바꿈(Newline), 공백, 특수문자 등 모든 본문 내용은 원형을 유지해야 함.

---

## 5. 기술적 고려사항 (Technical Considerations)
* **CORS (Cross-Origin Resource Sharing):** 브라우저 환경에서 타사 URL로 직접 요청 시 보안 정책에 의해 차단될 수 있으므로, 서버 사이드 프록시(Server-side Proxy) 혹은 Serverless Function(Vercel, AWS Lambda 등)을 통해 URL을 추적해야 합니다.
* **처리 속도:** 본문에 링크가 다수 존재할 경우를 대비하여, 각 링크의 복원을 비동기(Asynchronous) 병렬 방식으로 처리하여 응답 대기 시간을 최소화해야 합니다.

---

## 6. 사용 시나리오 (User Story)
1.  **입력:** 사용자가 링크드인 앱/웹에서 포스트 내용을 복사해 왼쪽 입력창에 붙여넣습니다.
2.  **실행:** '링크 복원하기' 버튼을 클릭합니다.
3.  **처리:** 시스템이 텍스트 내 5개의 `lnkd.in` 주소를 발견하고, 각각의 실제 주소를 서버를 통해 알아냅니다.
4.  **출력:** 텍스트 본문은 유지된 채로 5개의 주소만 원본 주소(예: `https://github.com/...`)로 바뀐 결과가 오른쪽 창에 나타납니다.
5.  **완료:** 사용자는 '복사' 버튼을 눌러 결과물을 가져갑니다.